---
title: mongo
type: processor
status: stable
categories: ["Integration"]
---

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the contents of:
     lib/processor/mongo.go
-->

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';


Performs operations against a mongo db for each message, 
allowing you to store or retrieve data within message payloads.


<Tabs defaultValue="common" values={[
  { label: 'Common', value: 'common', },
  { label: 'Advanced', value: 'advanced', },
]}>

<TabItem value="common">

```yaml
# Common config fields, showing default values
mongo:
  url: mongodb://localhost:27017
  database: ""
  collection: ""
  username: ""
  password: ""
  operation: insert
  write_concern:
    w: ""
    j: false
    w_timeout: ""
  document_map: ""
  filter_map: ""
  hint_map: ""
```

</TabItem>
<TabItem value="advanced">

```yaml
# All config fields, showing default values
mongo:
  url: mongodb://localhost:27017
  database: ""
  collection: ""
  username: ""
  password: ""
  operation: insert
  write_concern:
    w: ""
    j: false
    w_timeout: ""
  document_map: ""
  filter_map: ""
  hint_map: ""
  parts: []
  max_retries: 3
  backoff:
    initial_interval: 1s
    max_interval: 5s
    max_elapsed_time: 30s
```

</TabItem>
</Tabs>

## Fields

### `url`

The URL of the target Mongo DB.


Type: `string`  
Default: `"mongodb://localhost:27017"`  

```yaml
# Examples

url: mongodb://localhost:27017
```

### `database`

The name of the target Mongo DB.


Type: `string`  
Default: `""`  

### `collection`

The name of the target collection in the Mongo DB.


Type: `string`  
Default: `""`  

### `username`

The username to connect to the database.


Type: `string`  
Default: `""`  

### `password`

The password to connect to the database.


Type: `string`  
Default: `""`  

### `operation`

The mongo operation to perform. Must be one of the following: insert-one, delete-one, delete-many, replace-one, update-one, find-one.


Type: `string`  
Default: `"insert"`  

### `write_concern`

The write_concern settings for the mongo connection.


Type: `object`  

### `write_concern.w`

W requests acknowledgement that write operations propagate to the specified number of mongodb instances.


Type: `string`  
Default: `""`  

### `write_concern.j`

J requests acknowledgement from MongoDB that write operations are written to the journal.


Type: `bool`  
Default: `false`  

### `write_concern.w_timeout`

The write concern timeout.


Type: `string`  
Default: `""`  

### `document_map`

A bloblang map representing the records in the mongo db.


Type: `string`  
Default: `""`  

### `filter_map`

A bloblang map representing the filter for the mongo db command.


Type: `string`  
Default: `""`  

### `hint_map`

A bloblang map representing the hint for the mongo db command.


Type: `string`  
Default: `""`  

### `parts`

An optional array of message indexes of a batch that the processor should apply to.
If left empty all messages are processed. This field is only applicable when
batching messages [at the input level](/docs/configuration/batching).

Indexes can be negative, and if so the part will be selected from the end
counting backwards starting from -1.


Type: `array`  
Default: `[]`  

### `max_retries`

The maximum number of retries before giving up on the request. If set to zero there is no discrete limit.


Type: `number`  
Default: `3`  

### `backoff`

Control time intervals between retry attempts.


Type: `object`  

### `backoff.initial_interval`

The initial period to wait between retry attempts.


Type: `string`  
Default: `"1s"`  

### `backoff.max_interval`

The maximum period to wait between retry attempts.


Type: `string`  
Default: `"5s"`  

### `backoff.max_elapsed_time`

The maximum period to wait before retry attempts are abandoned. If zero then no limit is used.


Type: `string`  
Default: `"30s"`  


